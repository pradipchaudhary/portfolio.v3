"use client";
import React, { useEffect, useRef } from "react";

export default function AnimatedPradipSignature(): JSX.Element {
  const pathRef = useRef<SVGPathElement | null>(null);

  useEffect(() => {
    if (pathRef.current) {
      const path = pathRef.current;
      const length = path.getTotalLength();

      path.style.strokeDasharray = length.toString();
      path.style.strokeDashoffset = length.toString();

      // Trigger layout for animation
      path.getBoundingClientRect();

      path.style.transition = "stroke-dashoffset 3s ease-in-out";
      path.style.strokeDashoffset = "0";
    }
  }, []);

  return (
    <div className="w-[105px] h-[65px]">
      <svg
        width="105"
        height="65"
        viewBox="0 0 105 65"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          ref={pathRef}
          d="M29.754 0.991092C16.916 4.01809 0 18.1541 0 25.8571C0 26.9851 0.45 27.9071 1 27.9071C1.55 27.9071 2.002 26.8951 2.004 25.6571C2.012 20.7961 9.172 12.6441 18.259 7.15009C27.582 1.51409 41.275 -0.599908 45.539 2.94009C47.892 4.89209 47.316 11.8791 44.306 17.9201C42.824 20.8941 38.564 26.4941 34.838 30.3671L28.064 37.4071L25.9122 17.9201C25.8922 8.77509 27.62 7.90709 27 7.90709C25.85 7.90709 25.992 26.0971 25.992 26.0971L26.138 38.7881L21.819 41.5561C19.443 43.0781 17.313 44.4551 17.083 44.6151C16.854 44.7761 16.958 45.1981 17.313 45.5531C17.668 45.9091 19.759 45.0091 21.958 43.5531C24.158 42.0981 26.178 40.9071 26.448 40.9071C26.718 40.9071 27.08 46.4201 27.253 53.1571L27.568 65.4071L27.784 52.5231L28 39.6391L34.759 32.5231C52.111 14.2541 53.435 -0.368908 37.703 0.00709179C35.391 0.0630918 31.814 0.505092 29.754 0.991092ZM76.75 12.4781C76.338 12.8971 75.957 14.8531 75.904 16.8241C75.731 23.2841 73.589 30.4311 71.908 30.1561C71.065 30.0181 69.082 31.2561 67.501 32.9061C63.999 36.5611 63.224 36.6281 61.99 33.3811C60.062 28.3091 55 29.5021 55 35.0291C55 38.3611 57.253 38.8931 60.171 36.2521C61.265 35.2621 62 35.0611 62 35.7521C62 37.4181 64.05 37.1721 66.171 35.2521C67.821 33.7591 68 33.7531 68 35.1931C68 36.0711 68.47 37.0791 69.044 37.4341C70.766 38.4991 72.928 35.9321 74.438 31.0291L75.861 26.4071L76.075 34.9071C76.283 43.1201 76.319 42.9681 77.154 30.4071C78.076 16.5201 77.957 11.2511 76.75 12.4781ZM81.543 27.8381C81.226 28.3501 81.425 29.0511 81.984 29.3971C82.543 29.7421 83 29.3231 83 28.4661C83 26.7091 82.4 26.4511 81.543 27.8381Z"
          stroke="black"
          fill="transparent"
          strokeWidth={1.8}
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
    </div>
  );
}
